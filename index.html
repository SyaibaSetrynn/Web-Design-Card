<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setrynn's Universe</title>
    <link rel="icon" type="image/png" href="work-source/webicon.png">
    <link rel="shortcut icon" type="image/png" href="work-source/webicon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Century Gothic', sans-serif;
        }

        html {
            height: 1900px;
            overflow-y: auto; /* 只有html有滚动条 */
        }

        body {
            height: 100%;
            overflow: hidden; /* 禁用body的滚动条 */
        }

        #page {
            width: 1536px;
            transform-origin: top left;
        }

        /* 自定义滚动条 - 已禁用 */
        .custom-scrollbar {
            display: none !important; /* 禁用自定义滚动条 */
        }

        .custom-scrollbar-thumb {
            position: absolute !important;
            left: 5px !important;
            right: 5px !important;
            height: 150px !important;
            background: rgba(255, 255, 255, 0.9) !important;
            border-radius: 15px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            pointer-events: auto !important;
            transform: none !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
        }

        .custom-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 1) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
        }

        .content {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            padding: 120px 50px 50px 50px; /* 增加顶部padding为顶边栏留空间 */
            color: white;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            box-sizing: border-box;
        }

        .main-container {
            position: relative;
            width: 100%;
            height: auto;
            min-height: 100vh;
            overflow: hidden; /* 防止内容撑开html */
        }

        html {
            scroll-behavior: smooth;
        }

        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .background-image {
            width: 100%;
            height: 100%; /* 背景图片高度设为100%，会在JavaScript中动态调整 */
            background-image: url('The_Background.png');
            background-size: cover;
            background-position: center top;
            background-repeat: no-repeat;
            will-change: transform; /* 优化性能 */
        }

        :root {
            --primary-blue: #040570;
            --primary-white: #FFFFFF;
            --dark-blue: #0A083B;
            
            /* 章节位置偏移量 */
            --who-am-i-offset: 1080px;
            --my-works-offset: 1740px;
            --contact-offset: 2600px;
            
            /* 动画时间轴 */
            --animation-delay-title: 0s;
            --animation-delay-subtitle: 0.8s;
            --animation-delay-capsule1: 1.6s;
            --animation-delay-capsule2: 1.8s;
            --animation-delay-capsule3: 2.0s;
            --animation-delay-quote: 2.5s;
            --animation-delay-mouse: 2.5s;
            --animation-delay-line: 3.0s;
            
            /* 动画持续时间 */
            --animation-duration-title: 0.8s;
            --animation-duration-subtitle: 0.5s;
            --animation-duration-capsule: 0.5s;
            --animation-duration-quote: 0.5s;
            --animation-duration-mouse: 0.5s;
            --animation-duration-line: 2s;
        }

        .dev-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
            display: none;
        }

        .dev-lines-horizontal {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }

        .dev-lines-vertical {
            position: fixed;
            width: 100%;
            height: 100vh;
            left: 0;
            top: 0;
        }

        .dev-line-horizontal {
            position: absolute;
            width: 100%;
            height: 1px;
            background-color: #ff69b4;
            left: 0;
        }

        .dev-line-vertical {
            position: absolute;
            height: 100vh;
            width: 1px;
            background-color: #ff69b4;
            top: 0;
        }

        .dev-label-horizontal {
            position: absolute;
            left: 10px;
            background-color: rgba(255, 105, 180, 0.8);
            color: white;
            padding: 2px 6px;
            font-size: 10px;
            border-radius: 3px;
            transform: translateY(-50%);
        }

        .dev-label-vertical {
            position: absolute;
            top: 10px;
            background-color: rgba(255, 105, 180, 0.8);
            color: white;
            padding: 2px 6px;
            font-size: 10px;
            border-radius: 3px;
            transform: translateX(-50%);
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(to bottom, 
                rgba(4, 5, 112, 1) 0%, 
                rgba(4, 5, 112, 0.5) 100%);
            z-index: 10;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 0 20px;
        }

        .nav-button {
            height: 100%;
            width: 10%;
            background-color: transparent;
            color: var(--primary-white);
            border: none;
            font-size: 19.2px;
            font-weight: normal;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .nav-button::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 1px;
            height: 40px;
            background-color: var(--primary-white);
        }

        .nav-button:first-child::before {
            display: block;
        }

        .nav-button:not(:first-child)::before {
            display: block;
        }

        .nav-button:hover {
            background: linear-gradient(to bottom, 
                rgba(255, 255, 255, 0.8) 0%, 
                rgba(255, 255, 255, 0.4) 100%);
            color: var(--primary-blue);
        }

        .nav-button:active {
            font-weight: bold;
        }


        .main-title {
            position: absolute;
            top: 220px;
            left: 80px;
            font-size: 72px;
            font-weight: normal;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            transform: translateX(-100vw);
            opacity: 0;
            animation: slideInFromLeft var(--animation-duration-title) ease-out var(--animation-delay-title) forwards;
        }

        .position-marker {
            position: absolute;
            top: 220px;
            left: 80px;
            width: 8px;
            height: 8px;
            background-color: red;
            border-radius: 50%;
            z-index: 1000;
            transform: translate(-50%, -50%);
            display: none;
        }

        .subtitle {
            position: absolute;
            top: 500px;
            left: 1000px;
            font-size: 30px;
            font-weight: normal;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            opacity: 0;
            animation: fadeInAndFloat var(--animation-duration-subtitle) ease-out var(--animation-delay-subtitle) forwards;
        }

        .bold-name {
            font-weight: bold;
        }

        .subtitle-marker {
            position: absolute;
            top: 500px;
            left: 1000px;
            width: 8px;
            height: 8px;
            background-color: red;
            border-radius: 50%;
            z-index: 1000;
            transform: translate(-50%, -50%);
            display: none;
        }

        .capsule {
            position: absolute;
            background-color: rgba(4, 5, 112, 0.5);
            color: var(--primary-white);
            border: 3px solid var(--primary-white);
            border-radius: 25px;
            padding: 8px 16px;
            font-size: 16px;
            font-weight: normal;
            opacity: 0;
            animation: fadeInCapsule var(--animation-duration-capsule) ease-out forwards;
        }

        .capsule:nth-child(5) {
            top: 460px;
            left: 920px;
            animation-delay: var(--animation-delay-capsule1);
        }

        .capsule:nth-child(6) {
            top: 520px;
            left: 1050px;
            animation-delay: var(--animation-delay-capsule2);
        }

        .capsule:nth-child(7) {
            top: 450px;
            left: 1260px;
            animation-delay: var(--animation-delay-capsule3);
        }

        .capsule-marker {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: red;
            border-radius: 50%;
            z-index: 1000;
            transform: translate(-50%, -50%);
            display: none;
        }

        .capsule-marker:nth-child(8) {
            top: 460px;
            left: 920px;
        }

        .capsule-marker:nth-child(9) {
            top: 520px;
            left: 1050px;
        }

        .capsule-marker:nth-child(10) {
            top: 450px;
            left: 1260px;
        }

        .quote {
            position: absolute;
            top: 540px;
            left: 130px;
            font-size: 24px;
            font-style: italic;
            font-weight: normal;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            opacity: 0;
            animation: fadeIn var(--animation-duration-quote) ease-out var(--animation-delay-quote) forwards;
            line-height: 1.2;
        }

        .quote-marker {
            position: absolute;
            top: 540px;
            left: 130px;
            width: 8px;
            height: 8px;
            background-color: red;
            border-radius: 50%;
            z-index: 1000;
            transform: translate(-50%, -50%);
            display: none;
        }

        .mouse-cursor {
            position: absolute;
            left: 50%;
            top: 513px;
            width: 30px;
            height: 50px;
            transform: translateX(-50%);
            opacity: 0;
            animation: 
                fadeInMouse var(--animation-duration-mouse) ease-out var(--animation-delay-mouse) forwards,
                mouseFollowLine var(--animation-duration-line) ease-out var(--animation-delay-line) forwards;
        }

        .mouse-top {
            position: absolute;
            top: 0;
            left: 50%;
            width: 30px;
            height: 20px;
            border: 6px solid var(--primary-white);
            border-bottom: none;
            border-radius: 15px 15px 0 0;
            transform: translateX(-50%);
        }

        .mouse-middle-left {
            position: absolute;
            top: 17px;
            left: 50%;
            width: 6px;
            height: 16px;
            background-color: var(--primary-white);
            transform: translateX(-15px);
        }

        .mouse-middle-right {
            position: absolute;
            top: 17px;
            left: 50%;
            width: 6px;
            height: 16px;
            background-color: var(--primary-white);
            transform: translateX(9px);
        }

        .mouse-bottom {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 30px;
            height: 20px;
            border: 6px solid var(--primary-white);
            border-top: none;
            border-radius: 0 0 15px 15px;
            transform: translateX(-50%);
        }

        .mouse-dot {
            position: absolute;
            top: 10px;
            left: 50%;
            width: 8px;
            height: 8px;
            background-color: var(--primary-white);
            border-radius: 50%;
            transform: translateX(-50%);
            animation: mouseDotMove 4s infinite ease-in-out;
        }

        .center-line {
            position: absolute;
            left: 50%;
            top: 500px;
            width: 3px;
            height: 0px;
            background: linear-gradient(to bottom,
                transparent 0px,
                var(--primary-white) 50px,
                var(--primary-white) 220px);
            transform: translateX(-50%);
            animation: drawLine var(--animation-duration-line) ease-out var(--animation-delay-line) forwards;
        }

        .center-divider {
            position: absolute;
            top: calc(var(--who-am-i-offset) - 80px);
            left: 50%;
            width: 2px;
            height: 500px;
            background: linear-gradient(to bottom,
                transparent 0px,
                var(--primary-white) 100px,
                var(--primary-white) 400px,
                transparent 500px);
            transform: translateX(-50%);
        }

        .horizontal-divider {
            position: absolute;
            top: calc(var(--my-works-offset) - 40px);
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(to right,
                transparent 0%,
                var(--primary-white) 12.5%,
                var(--primary-white) 87.5%,
                transparent 100%);
        }

        .my-works-title {
            position: absolute;
            top: var(--my-works-offset);
            left: 50%;
            font-size: 80px;
            font-weight: bold;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            transform: translateX(-50%);
        }

        .who-am-i-title {
            position: absolute;
            top: var(--who-am-i-offset);
            left: 25%;
            font-size: 72px;
            font-weight: bold;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            transform: translateX(-50%);
            text-align: center;
        }

        .who-am-i-content {
            position: absolute;
            top: calc(var(--who-am-i-offset) + 20px);
            left: 75%;
            font-size: 18px;
            font-weight: normal;
            color: var(--primary-white);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            transform: translateX(-50%);
            text-align: center;
            width: 600px;
            line-height: 1.6;
        }

        .works-button {
            position: absolute;
            top: calc(var(--who-am-i-offset) + 200px);
            left: 25%;
            transform: translateX(-50%);
            width: 190px;
            height: 40px;
            background-color: rgba(4, 5, 112, 0.5);
            border: 2px solid var(--primary-white);
            border-radius: 20px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .works-button-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary-white);
            font-size: 19.2px;
            font-weight: normal;
            z-index: 2;
            pointer-events: none;
            text-align: center;
            white-space: nowrap;
        }

        .works-button-fill {
            position: absolute;
            top: 50%;
            left: 0;
            width: 0%;
            height: 40px;
            background-color: var(--primary-white);
            transform: translateY(-50%);
            transition: width 0.2s ease;
            z-index: 1;
        }

        .works-button:hover .works-button-fill {
            width: 100%;
        }

        .works-button:hover .works-button-text {
            color: var(--primary-blue);
        }

        .mouse-position {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 12px;
            z-index: 1001;
            display: none;
        }

        /* 作品集卡片容器 */
        .portfolio-card {
            position: absolute;
            top: 0px; /* 在容器内，不需要额外的top偏移 */
            left: 100px;
            width: 400px;
            height: 500px;
            z-index: 100;
            cursor: pointer;
            overflow: hidden;
            transition: left 0.5s ease-in-out;
        }

        /* 卡片hover效果 - 对角线渐变 */
        .portfolio-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 255, 255, 0.98) 10%,
                rgba(255, 255, 255, 0.94) 20%,
                rgba(255, 255, 255, 0.88) 30%,
                rgba(255, 255, 255, 0.8) 40%,
                rgba(255, 255, 255, 0.7) 49.8%,
                rgba(255, 255, 255, 0.7) 49.9%,
                rgba(255, 255, 255, 0.7) 50.1%,
                rgba(255, 255, 255, 0.69) 52%,
                rgba(255, 255, 255, 0.64) 60%,
                rgba(255, 255, 255, 0.49) 70%,
                rgba(255, 255, 255, 0.25) 80%,
                rgba(255, 255, 255, 0.09) 90%,
                rgba(255, 255, 255, 0.01) 98%,
                rgba(255, 255, 255, 0) 100%
            );
            border-radius: 60px;
            z-index: 5;
            pointer-events: none;
            /* 初始状态：线条经过右上角 */
            background-size: 300% 300%;
            background-position: 100% 0%;
            transition: background-position 0.6s ease;
        }

        /* 卡片hover状态 - 线条移动到左下角 */
        .portfolio-card:hover::after {
            /* 线条经过左下角 */
            background-position: 0% 100%;
        }

        /* 卡片上部分 */
        .card-top {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background-color: var(--primary-blue);
            border-radius: 60px 60px 0 0;
            border: 2px solid var(--dark-blue);
            border-bottom: none;
            border-left: none;
            border-right: none;
            z-index: 1;
            transition: border-color 0.3s ease;
        }

        /* 卡片上部分hover效果 */
        .portfolio-card:hover .card-top {
            border-color: var(--dark-blue);
        }

        /* 卡片下部分 */
        .card-bottom {
            position: absolute;
            top: 250px;
            left: 0;
            width: 100%;
            height: 250px;
            background-color: var(--primary-blue);
            border-radius: 0 0 60px 60px;
            border: 2px solid var(--dark-blue);
            border-top: none;
            z-index: 1;
            transition: border-color 0.3s ease;
        }

        /* 卡片下部分hover效果 */
        .portfolio-card:hover .card-bottom {
            border-color: var(--dark-blue);
        }

        /* 卡片左部分 */
        .card-left {
            position: absolute;
            top: 50px;
            left: 0;
            width: 60px;
            height: 200px;
            background-color: var(--primary-blue);
            border-left: 2px solid var(--dark-blue);
            z-index: 1;
            transition: border-color 0.3s ease;
        }

        /* 卡片左部分hover效果 */
        .portfolio-card:hover .card-left {
            border-color: var(--dark-blue);
        }

        /* 卡片右部分 */
        .card-right {
            position: absolute;
            top: 50px;
            right: 0;
            width: 60px;
            height: 200px;
            background-color: var(--primary-blue);
            border-right: 2px solid var(--dark-blue);
            z-index: 1;
            transition: border-color 0.3s ease;
        }

        /* 卡片右部分hover效果 */
        .portfolio-card:hover .card-right {
            border-color: var(--dark-blue);
        }

        /* 镂空边框 */
        .portfolio-frame {
            position: absolute;
            top: 50px;
            left: 60px;
            width: 280px;
            height: 220px;
            border: 10px solid var(--primary-white);
            border-radius: 0;
            box-sizing: border-box;
            pointer-events: none;
            z-index: 3;
        }


        /* 画框内的图片预览 */
        .work-image {
            position: absolute;
            top: 60px;
            left: 70px;
            width: 260px;
            height: 200px;
            object-fit: cover;
            object-position: center;
            display: block;
            z-index: 15;
        }

        /* 作品标题 */
        .work-title {
            position: absolute;
            top: 280px;
            left: 200px;
            font-size: 30px;
            color: var(--primary-white);
            font-weight: normal;
            z-index: 101;
            transform: translateX(-50%);
            transition: color 0.5s ease;
            white-space: nowrap;
            max-width: none;
        }

        /* 标题hover效果 */
        .portfolio-card:hover .work-title {
            color: var(--primary-blue);
        }

        /* 作品描述 */
        .work-description {
            position: absolute;
            top: 350px;
            left: 30px;
            font-size: 15px;
            color: var(--primary-white);
            z-index: 101;
            width: 340px;
            line-height: 1.4;
            transition: color 0.5s ease;
        }

        /* 箭头组容器 */
        .arrow-group {
            position: absolute;
            top: 440px;
            left: 330px;
            z-index: 103;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* 第二个箭头组容器 */
        .arrow-group-2 {
            position: absolute;
            top: 560px;
            left: 210px;
            z-index: 103;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* 第二个箭头组内的元素为黑色 */
        .arrow-group-2 .arrow-horizontal,
        .arrow-group-2 .arrow-vertical,
        .arrow-group-2 .arrow-long {
            background-color: black;
        }

        /* 箭头 - 水平部分 */
        .arrow-horizontal {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 30px;
            height: 6px;
            background-color: white;
        }

        /* 箭头 - 垂直部分 */
        .arrow-vertical {
            position: absolute;
            top: 0px;
            left: 24px;
            width: 6px;
            height: 30px;
            background-color: white;
        }

        /* 箭头 - 长垂直部分 */
        .arrow-long {
            position: absolute;
            top: -1px;
            left: 9px;
            width: 6px;
            height: 36px;
            background-color: white;
            transform: rotate(45deg);
            transform-origin: center;
        }

        /* 描述hover效果 */
        .portfolio-card:hover .work-description {
            color: var(--primary-blue);
        }

        /* 箭头hover动画 */
        .portfolio-card:hover .arrow-group {
            transform: translate(120px, -120px);
        }

        .portfolio-card:hover .arrow-group-2 {
            transform: translate(120px, -120px);
        }

        /* 轮播容器样式 */
        .carousel-container {
            position: absolute;
            top: calc(var(--my-works-offset) + 160px);
            left: 50%;
            transform: translateX(-50%);
            width: 1536px; /* 调整到1536px，让卡片从网页边缘消失 */
            height: 500px;
            overflow: hidden;
            transition: transform 0.5s ease-in-out;
        }

        /* 新的轮播按钮样式 */
        .carousel-btn {
            position: absolute;
            top: 2140px; /* 背景上2140px位置 */
            width: 60px; /* 半径30px，直径60px */
            height: 60px; /* 半径30px，直径60px */
            background: rgba(4, 5, 112, 0.7); /* 70%透明度的蓝色 */
            border: 4px solid white; /* 白色边框，加宽100% */
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .carousel-btn:hover {
            background: rgba(4, 5, 112, 0.9);
            transform: scale(1.1);
        }

        /* 左箭头 - 两条线直角 */
        .carousel-btn-left::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 3px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) translateY(-5px) rotate(-45deg);
            background: white;
        }

        .carousel-btn-left::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 3px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) translateY(5px) rotate(45deg);
            background: white;
        }

        /* 右箭头 - 两条线直角 */
        .carousel-btn-right::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 3px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) translateY(-5px) rotate(45deg);
            background: white;
        }

        .carousel-btn-right::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 3px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) translateY(5px) rotate(-45deg);
            background: white;
        }

        .carousel-btn-left {
            left: 30px; /* left=30 */
        }

        .carousel-btn-right {
            right: 30px; /* right=30，相当于left=width-90 */
        }

        /* 点指示器样式 */
        .carousel-dots {
            position: absolute;
            top: 2450px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 50px;
            z-index: 1000;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dot.active {
            background: var(--primary-white);
            transform: scale(2);
        }

        .dot:hover {
            background: var(--primary-white);
            transform: scale(1.5);
        }

        @keyframes fadeInAndFloat {
            from {
                opacity: 0;
                transform: translateY(0);
            }
            to {
                opacity: 1;
                transform: translateY(-100px);
            }
        }

        @keyframes fadeInCapsule {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes drawLine {
            from {
                height: 0px;
                top: 500px;
            }
            to {
                height: 220px;
                top: 500px;
            }
        }

        @keyframes fadeInMouse {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes mouseFollowLine {
            from {
                top: 513px;
            }
            to {
                top: 733px;
            }
        }

        @keyframes mouseDotMove {
            0% {
                top: 10px;
            }
            25% {
                top: 32px;
            }
            50% {
                top: 32px;
            }
            75% {
                top: 10px;
            }
            100% {
                top: 10px;
            }
        }

        /* 默认隐藏所有位置标记 */
        .position-marker,
        .subtitle-marker,
        .capsule-marker,
        .quote-marker {
            display: none;
        }

        /* 当开发者模式开启时显示位置标记 */
        .dev-grid[style*="block"] ~ .content .position-marker,
        .dev-grid[style*="block"] ~ .content .subtitle-marker,
        .dev-grid[style*="block"] ~ .content .capsule-marker,
        .dev-grid[style*="block"] ~ .content .quote-marker {
            display: block;
        }

        @keyframes slideInFromLeft {
            from {
                transform: translateX(-100vw);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- 自定义滚动条 -->
    <div class="custom-scrollbar">
        <div class="custom-scrollbar-thumb" id="scrollbarThumb"></div>
    </div>

    <div id="page">
    <div class="top-bar">
        <button class="nav-button" onclick="scrollToSection(400)">About me</button>
        <button class="nav-button" onclick="scrollToSection(850)">My works</button>
        <button class="nav-button" onclick="scrollToSection(1225)">Contact</button>
    </div>

    <div class="background-container">
        <div class="background-image" id="background"></div>
    </div>
    
    <div class="dev-grid" id="devGrid">
        <div class="dev-lines-horizontal" id="devLinesHorizontal">
            <!-- 水平标线将在这里生成 -->
        </div>
        <div class="dev-lines-vertical" id="devLinesVertical">
            <!-- 垂直标线将在这里生成 -->
        </div>
    </div>

    <div class="mouse-position" id="mousePosition">Mouse: 0, 0</div>

    <div class="main-container" id="mainContainer">
        <div class="content">
            <div class="position-marker"></div>
        <h1 class="main-title">Every Universe Deserves a Form.</h1>
        <div class="subtitle-marker"></div>
        <h2 class="subtitle">I'm <span class="bold-name">Setrynn Zhou</span></h2>
        <div class="capsule">Game Designer</div>
        <div class="capsule">Dream Architect</div>
        <div class="capsule">Real-life Gamer</div>
        <div class="capsule-marker"></div>
        <div class="capsule-marker"></div>
        <div class="capsule-marker"></div>
        <div class="quote-marker"></div>
        <p class="quote">What delights me most is bringing the<br>wildest dreams into our vision.</p>
        <div class="mouse-cursor">
            <div class="mouse-top"></div>
            <div class="mouse-middle-left"></div>
            <div class="mouse-middle-right"></div>
            <div class="mouse-bottom"></div>
            <div class="mouse-dot"></div>
        </div>
        <div class="center-line"></div>
        <div class="center-divider"></div>
        <div class="horizontal-divider"></div>
        
        <h1 class="my-works-title">My Works</h1>
        
        <!-- 轮播按钮 -->
        <div class="carousel-btn carousel-btn-left" id="carouselPrev"></div>
        <div class="carousel-btn carousel-btn-right" id="carouselNext"></div>
        
        <h1 class="who-am-i-title">Who am I?</h1>
        <p class="who-am-i-content">I'm Setrynn Zhou, an undergraduate game designer.<br>
        Inspired by the games I played in my childhood, I developed a deep passion for creating interactive worlds.<br>
        From freshman year to senior year, I've built many games—each one marking a new step in my growth as a designer.<br>
        Though those projects are complete, my journey in game design is far from over.<br>
        I'm still evolving—aiming for better technology, smarter design, and, most importantly, more fun.</p>
        
        <div class="works-button" onclick="scrollToSection(850)">
            <div class="works-button-fill"></div>
            <div class="works-button-text">See my works</div>
        </div>
        
        <!-- 作品集卡片容器 -->
        <div class="carousel-container" id="carouselContainer">
        <!-- 作品集卡片 -->
        <div class="portfolio-card" style="left: 118px;" onclick="goToDetail('Card1', 1)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage1" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle1">Card1</h3>
            <p class="work-description" id="workDescription1">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第二个作品集卡片 -->
        <div class="portfolio-card" style="left: 568px;" onclick="goToDetail('Card2', 2)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage2" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle2">Card2</h3>
            <p class="work-description" id="workDescription2">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第三个作品集卡片 -->
        <div class="portfolio-card" style="left: 1018px;" onclick="goToDetail('Card3', 3)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage3" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle3">Card3</h3>
            <p class="work-description" id="workDescription3">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第四个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card4', 4)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage4" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle4">Card4</h3>
            <p class="work-description" id="workDescription4">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第五个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card5', 5)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage5" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle5">Card5</h3>
            <p class="work-description" id="workDescription5">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第六个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card6', 6)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage6" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle6">Card6</h3>
            <p class="work-description" id="workDescription6">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第七个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card7', 7)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage7" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle7">Card7</h3>
            <p class="work-description" id="workDescription7">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第八个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card8', 8)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage8" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle8">Card8</h3>
            <p class="work-description" id="workDescription8">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        
        <!-- 第九个作品集卡片 -->
        <div class="portfolio-card" style="left: 1618px;" onclick="goToDetail('Card9', 9)">
            <div class="card-top"></div>
            <div class="card-bottom"></div>
            <div class="card-left"></div>
            <div class="card-right"></div>
            <div class="portfolio-frame"></div>
            <img class="work-image" id="workImage9" src="" alt="Work Preview" style="display: none;">
            <h3 class="work-title" id="workTitle9">Card9</h3>
            <p class="work-description" id="workDescription9">Loading...</p>
            <div class="arrow-group">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
            <div class="arrow-group-2">
                <div class="arrow-horizontal"></div>
                <div class="arrow-vertical"></div>
                <div class="arrow-long"></div>
            </div>
        </div>
        </div>
        
        <!-- 点指示器 -->
        <div class="carousel-dots">
            <div class="dot active" onclick="jumpToCard(0)"></div>
            <div class="dot active" onclick="jumpToCard(1)"></div>
            <div class="dot active" onclick="jumpToCard(2)"></div>
            <div class="dot" onclick="jumpToCard(3)"></div>
            <div class="dot" onclick="jumpToCard(4)"></div>
            <div class="dot" onclick="jumpToCard(5)"></div>
            <div class="dot" onclick="jumpToCard(6)"></div>
            <div class="dot" onclick="jumpToCard(7)"></div>
            <div class="dot" onclick="jumpToCard(8)"></div>
        </div>
        
        <!-- 主页内容将在这里添加 -->
        </div>
    </div>

    <script src="work-loader.js"></script>
    <script>
        let targetY = 0;
        let currentY = 0;
        const smoothing = 0.1;
        let isInitialized = false;

        function smoothScroll() {
            // 使用浏览器原生滚动
            targetY = window.pageYOffset;
            
            // 简单的线性插值，无回弹
            currentY += (targetY - currentY) * smoothing;
            
            // 计算缩放因子，用于修正transform
            const s = (window.innerWidth / 1536);
            
            // 应用视差效果到背景
            const rate = (currentY / s) * -0.2;
            const background = document.getElementById('background');
            if (background) {
                background.style.transform = `translateY(${rate}px)`;
                // 确保背景图片不会因为视差效果而完全移出视窗
                background.style.backgroundPosition = `center ${Math.max(0, -rate)}px`;
            }
            
            // 应用阻尼效果到内容区域（除了顶边栏和开发者标线）
            const content = document.querySelector('.content');
            const mousePosition = document.getElementById('mousePosition');
            
            if (content) {
                content.style.transform = `translateY(${-currentY / s}px)`;
            }
            if (mousePosition) {
                mousePosition.style.transform = `translateY(${-currentY / s}px)`;
            }
            
            // 开发者标线：横线跟随阻尼，竖线跟随屏幕
            const devLinesHorizontal = document.getElementById('devLinesHorizontal');
            const devLinesVertical = document.getElementById('devLinesVertical');
            
            if (devLinesHorizontal) {
                devLinesHorizontal.style.transform = `translateY(${-currentY / s}px)`;
            }
            if (devLinesVertical) {
                devLinesVertical.style.transform = `translateY(0px)`;
            }
            
            requestAnimationFrame(smoothScroll);
        }

        function initializeScroll() {
            // 获取当前滚动位置，不强制回到顶部
            targetY = window.pageYOffset;
            currentY = window.pageYOffset;
            
            // 计算缩放因子，用于修正transform
            const s = (window.innerWidth / 1536);
            
            // 根据当前滚动位置设置所有transform
            const background = document.getElementById('background');
            const content = document.querySelector('.content');
            const devGrid = document.getElementById('devGrid');
            const mousePosition = document.getElementById('mousePosition');
            
            // 设置背景视差效果
            const rate = (currentY / s) * -0.2;
            background.style.transform = `translateY(${rate}px)`;
            
            // 设置内容阻尼效果
            content.style.transform = `translateY(${-currentY / s}px)`;
            mousePosition.style.transform = `translateY(${-currentY / s}px)`;
            
            // 开发者标线使用阻尼位置
            const devLinesHorizontal = document.getElementById('devLinesHorizontal');
            const devLinesVertical = document.getElementById('devLinesVertical');
            
            if (devLinesHorizontal) {
                devLinesHorizontal.style.transform = `translateY(${-currentY / s}px)`;
            }
            if (devLinesVertical) {
                devLinesVertical.style.transform = `translateY(0px)`;
            }
            
            // 初始化时启用开发者模式
            if (devModeEnabled) {
                devGrid.style.display = 'block';
                mousePosition.style.display = 'block';
                generateDevGrid();
            }
            
            isInitialized = true;
        }

        // 自定义滚动变量
        let currentScrollPosition = 0;
        let maxScrollPosition = 1;
        let isDragging = false;
        let scrollbarThumb;
        
        // 全局拖拽状态
        let dragStartY = 0;
        let dragStartScroll = 0;
        
        // 初始化自定义滚动 - 已禁用
        function initCustomScroll() {
            console.log('自定义滚动已禁用，使用原生滚动');
            // 自定义滚动功能已禁用
        }
        
        // 更新滚动位置 - 已禁用
        function updateScrollPosition(newPosition) {
            // 自定义滚动功能已禁用
        }
        
        // 显示调试红点
        function showDebugDot() {
            // 移除之前的红点
            const existingDot = document.getElementById('debugDot');
            if (existingDot) {
                existingDot.remove();
            }
            
            // 创建新的红点
            const dot = document.createElement('div');
            dot.id = 'debugDot';
            dot.style.position = 'fixed';
            dot.style.left = '50%';
            dot.style.top = '50%';
            dot.style.width = '20px';
            dot.style.height = '20px';
            dot.style.background = 'red';
            dot.style.borderRadius = '50%';
            dot.style.transform = 'translate(-50%, -50%)';
            dot.style.zIndex = '99999';
            dot.style.pointerEvents = 'none';
            
            document.body.appendChild(dot);
            
            // 0.1秒后移除红点
            setTimeout(() => {
                if (dot && dot.parentNode) {
                    dot.remove();
                }
            }, 100);
        }
        
        // 更新滚动条滑块位置
        function updateScrollbarThumb() {
            if (scrollbarThumb) {
                const thumbHeight = Math.max(150, window.innerHeight * 0.3); // 滑块最小高度150px，最大30%屏幕高度
                const availableHeight = window.innerHeight - thumbHeight;
                const thumbTop = currentScrollPosition * availableHeight;
                
                // 调试信息（可选）
                // console.log('更新滑块位置:', { currentScrollPosition, thumbTop });
                
                // 使用setAttribute确保样式更新
                scrollbarThumb.setAttribute('style', 
                    `position: absolute !important; ` +
                    `left: 5px !important; ` +
                    `right: 5px !important; ` +
                    `height: ${thumbHeight}px !important; ` +
                    `top: ${thumbTop}px !important; ` +
                    `background: rgba(255, 255, 255, 0.9) !important; ` +
                    `border-radius: 15px !important; ` +
                    `cursor: pointer !important; ` +
                    `transition: all 0.2s ease !important; ` +
                    `pointer-events: auto !important; ` +
                    `transform: none !important; ` +
                    `box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;`
                );
            }
        }
        
        // 更新内容位置
        function updateContentPosition() {
            const scrollDistance = currentScrollPosition * maxScrollPosition;
            targetY = scrollDistance;
            currentY = scrollDistance; // 立即更新currentY，确保内容立即移动
            
            // 手动应用变换
            const s = (window.innerWidth / 1536);
            
            // 应用视差效果到背景
            const rate = (currentY / s) * -0.2;
            const background = document.getElementById('background');
            if (background) {
                background.style.transform = `translateY(${rate}px)`;
                // 确保背景图片不会因为视差效果而完全移出视窗
                background.style.backgroundPosition = `center ${Math.max(0, -rate)}px`;
            }
            
            // 应用阻尼效果到内容区域
            const content = document.querySelector('.content');
            const mousePosition = document.getElementById('mousePosition');
            
            if (content) {
                content.style.transform = `translateY(${-currentY / s}px)`;
            }
            if (mousePosition) {
                mousePosition.style.transform = `translateY(${-currentY / s}px)`;
            }
            
            // 开发者标线
            const devLinesHorizontal = document.getElementById('devLinesHorizontal');
            const devLinesVertical = document.getElementById('devLinesVertical');
            
            if (devLinesHorizontal) {
                devLinesHorizontal.style.transform = `translateY(${-currentY / s}px)`;
            }
            if (devLinesVertical) {
                devLinesVertical.style.transform = `translateY(0px)`;
            }
        }

        // 整体缩放功能
        function applyGlobalScaling() {
            const canvasWidth = window.innerWidth;
            const scaleFactor = canvasWidth / 1536;
            
            // 对页面容器应用缩放，而不是body
            const page = document.getElementById('page');
            page.style.transform = `scale(${scaleFactor})`;
            page.style.width = '1536px';
            
            // 计算并绘制分割线，获取页面总高度
            const finalHeight = drawBottomDivider();
            
            // 设置容器高度，由红色分割线位置决定
            const mainContainer = document.getElementById('mainContainer');
            if (mainContainer) {
                mainContainer.style.height = finalHeight + 'px';
            }
            
            // 不设置body高度，让CSS控制
            // document.body.style.height = finalHeight + 'px';
            
            // 调整背景图片高度，使其能够覆盖整个页面加上视差移动距离
            const backgroundImage = document.getElementById('background');
            let backgroundHeight = finalHeight; // 默认值
            if (backgroundImage) {
                // 计算最大视差移动距离：当滚动到页面底部时的移动距离
                const maxScrollY = finalHeight * scaleFactor;
                const maxParallaxMove = (maxScrollY / scaleFactor) * 0.2; // 视差系数0.2
                // 背景图片高度 = 页面高度 + 视差移动距离 + 额外缓冲
                backgroundHeight = finalHeight + maxParallaxMove + 500;
                backgroundImage.style.height = backgroundHeight + 'px';
                console.log(`Background height set to ${backgroundHeight}px (page: ${finalHeight}px, parallax: ${maxParallaxMove}px)`);
            }
            
            console.log(`Page height set to ${finalHeight}px, max scroll position ${maxScrollPosition}px`);
            console.log(`Background height set to ${backgroundHeight}px`);
            console.log(`Custom scroll initialized`);
        }
        
        // 绘制底部分割线
        function drawBottomDivider() {
            // 移除已存在的底部分割线、Contact文字和相关元素
            const existingDivider = document.getElementById('bottomDivider');
            const existingContactText = document.getElementById('contactText');
            const existingInstagramIcon = document.getElementById('instagramIcon');
            const existingWechatIcon = document.getElementById('wechatIcon');
            const existingSetrMythText = document.getElementById('setrMythText');
            const existingSetrynnText = document.getElementById('setrynnText');
            const existingRedDivider = document.getElementById('redDivider');
            
            if (existingDivider) existingDivider.remove();
            if (existingContactText) existingContactText.remove();
            if (existingInstagramIcon) existingInstagramIcon.remove();
            if (existingWechatIcon) existingWechatIcon.remove();
            if (existingSetrMythText) existingSetrMythText.remove();
            if (existingSetrynnText) existingSetrynnText.remove();
            if (existingRedDivider) existingRedDivider.remove();
            
            // 计算分割线位置：使用Contact offset变量
            const dividerY = 2600; // 使用CSS变量 --contact-offset (已下移100px)
            
            // 创建分割线元素
            const divider = document.createElement('div');
            divider.id = 'bottomDivider';
            divider.style.position = 'absolute';
            divider.style.top = dividerY + 'px';
            divider.style.left = '10%';
            divider.style.width = '80%';
            divider.style.height = '2px';
            divider.style.background = 'linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 1) 20%, rgba(255, 255, 255, 1) 80%, transparent 100%)';
            divider.style.zIndex = '1000';
            divider.style.pointerEvents = 'none';
            
            // 添加到content容器中，这样会被正确缩放
            const contentContainer = document.querySelector('.content');
            if (contentContainer) {
                contentContainer.appendChild(divider);
            }
            
            // 添加Contact文字，位置在分割线下方，与My Works格式相同
            const contactText = document.createElement('div');
            contactText.id = 'contactText';
            contactText.textContent = 'Contact';
            contactText.style.position = 'absolute';
            contactText.style.top = (dividerY + 40) + 'px'; // 分割线下方40px
            contactText.style.left = '50%';
            contactText.style.transform = 'translateX(-50%)';
            contactText.style.fontSize = '80px';
            contactText.style.fontFamily = 'Century Gothic, sans-serif';
            contactText.style.color = 'var(--primary-white)';
            contactText.style.fontWeight = 'bold';
            contactText.style.zIndex = '1000';
            contactText.style.pointerEvents = 'none';
            
            if (contentContainer) {
                contentContainer.appendChild(contactText);
            }
            
            // 添加图标和文字，位置在Contact下方150px
            const contactContentY = dividerY + 40 + 80 + 150; // Contact文字底部 + 150px
            
            // Instagram图标
            const instagramIcon = document.createElement('img');
            instagramIcon.id = 'instagramIcon';
            instagramIcon.src = 'work-source/Contact-Icons/instagram.png';
            instagramIcon.style.position = 'absolute';
            instagramIcon.style.top = contactContentY + 'px';
            instagramIcon.style.left = '10%';
            instagramIcon.style.width = '100px';
            instagramIcon.style.height = '100px';
            instagramIcon.style.zIndex = '1000';
            instagramIcon.style.pointerEvents = 'none';
            
            // WeChat图标
            const wechatIcon = document.createElement('img');
            wechatIcon.id = 'wechatIcon';
            wechatIcon.src = 'work-source/Contact-Icons/wechat.png';
            wechatIcon.style.position = 'absolute';
            wechatIcon.style.top = contactContentY + 'px';
            wechatIcon.style.left = '60%';
            wechatIcon.style.width = '100px';
            wechatIcon.style.height = '100px';
            wechatIcon.style.zIndex = '1000';
            wechatIcon.style.pointerEvents = 'none';
            
            // setr.myth文字 - 在Instagram图标右边150px位置，与图标居中对齐
            const setrMythText = document.createElement('div');
            setrMythText.id = 'setrMythText';
            setrMythText.textContent = 'setr.myth';
            setrMythText.style.position = 'absolute';
            setrMythText.style.top = contactContentY + 'px';
            setrMythText.style.left = 'calc(10% + 100px + 50px)';
            setrMythText.style.transform = 'translateY(10px)'; // 下移10px，使文字中心与图标中心对齐
            setrMythText.style.fontSize = '60px';
            setrMythText.style.fontFamily = 'Century Gothic, sans-serif';
            setrMythText.style.color = 'var(--primary-white)';
            setrMythText.style.fontWeight = 'normal';
            setrMythText.style.zIndex = '1000';
            setrMythText.style.pointerEvents = 'none';
            
            // setrynn文字 - 在WeChat图标右边150px位置，与图标居中对齐
            const setrynnText = document.createElement('div');
            setrynnText.id = 'setrynnText';
            setrynnText.textContent = 'setrynn';
            setrynnText.style.position = 'absolute';
            setrynnText.style.top = contactContentY + 'px';
            setrynnText.style.left = 'calc(60% + 100px + 50px)';
            setrynnText.style.transform = 'translateY(10px)'; // 下移10px，使文字中心与图标中心对齐
            setrynnText.style.fontSize = '60px';
            setrynnText.style.fontFamily = 'Century Gothic, sans-serif';
            setrynnText.style.color = 'var(--primary-white)';
            setrynnText.style.fontWeight = 'normal';
            setrynnText.style.zIndex = '1000';
            setrynnText.style.pointerEvents = 'none';
            
            // 添加到content容器中
            if (contentContainer) {
                contentContainer.appendChild(instagramIcon);
                contentContainer.appendChild(wechatIcon);
                contentContainer.appendChild(setrMythText);
                contentContainer.appendChild(setrynnText);
            }
            
            // 红色分割线已删除
            
            // 计算页面总高度
            const iconBottomY = contactContentY + 100; // 图标底部位置
            const finalHeight = iconBottomY + 200; // 图标下方留200px空间
            
            console.log(`Bottom divider drawn at fixed y=${dividerY}`);
            console.log(`Contact text added at y=${dividerY + 40}`);
            console.log(`Contact content added at y=${contactContentY}`);
            console.log(`Page height set to ${finalHeight}px`);
            
            // 返回页面总高度
            return finalHeight;
        }

        // 自适应标题字体大小
        function adjustTitleFontSize() {
            const titles = document.querySelectorAll('.work-title');
            titles.forEach(title => {
                const maxWidth = 400;
                let fontSize = 30;
                title.style.fontSize = fontSize + 'px';
                
                // 如果文本宽度超过最大宽度，缩小字体
                while (title.scrollWidth > maxWidth && fontSize > 12) {
                    fontSize -= 1;
                    title.style.fontSize = fontSize + 'px';
                }
            });
        }

        // 页面加载完成后初始化
        window.addEventListener('load', function() {
            initializeScroll();
            // 启动平滑滚动
            smoothScroll();
            // 应用整体缩放
            applyGlobalScaling();
            // 初始化自定义滚动
            initCustomScroll();
            // 加载作品内容
            if (window.workLoader) {
                console.log('Starting to load work content...');
                window.workLoader.loadWorkContent(1);
                window.workLoader.loadWorkContent(2);
                window.workLoader.loadWorkContent(3);
                window.workLoader.loadWorkContent(4);
                window.workLoader.loadWorkContent(5);
                window.workLoader.loadWorkContent(6);
                window.workLoader.loadWorkContent(7);
                window.workLoader.loadWorkContent(8);
                window.workLoader.loadWorkContent(9);
                // 内容加载完成后调整字体大小
                setTimeout(adjustTitleFontSize, 100);
            } else {
                console.error('workLoader not available');
            }
            
            // 初始化轮播
            initCarousel();
            
            // 处理从detail.html跳转过来的滚动位置
            handleScrollFromDetail();
        });
        
        // 窗口大小改变时重新缩放
        window.addEventListener('resize', applyGlobalScaling);

        // 生成开发者标线
        function generateDevGrid() {
            const devLinesHorizontal = document.getElementById('devLinesHorizontal');
            const devLinesVertical = document.getElementById('devLinesVertical');
            const windowHeight = window.innerHeight;
            const windowWidth = window.innerWidth;
            // 使用固定的页面高度，避免受开发者标线影响
            const documentHeight = 3000; // 固定高度，足够覆盖所有内容
            
            // 清除现有标线
            devLinesHorizontal.innerHTML = '';
            devLinesVertical.innerHTML = '';
            
            // 生成水平标线（每100px）
            for (let i = 100; i <= documentHeight + windowHeight; i += 100) {
                const line = document.createElement('div');
                line.className = 'dev-line-horizontal';
                line.style.top = i + 'px';
                
                const label = document.createElement('div');
                label.className = 'dev-label-horizontal';
                label.textContent = (i * 2) + 'px';
                label.style.top = i + 'px';
                
                line.appendChild(label);
                devLinesHorizontal.appendChild(line);
            }
            
            // 生成垂直标线（每100px）
            for (let i = 100; i <= windowWidth; i += 100) {
                const line = document.createElement('div');
                line.className = 'dev-line-vertical';
                line.style.left = i + 'px';
                
                const label = document.createElement('div');
                label.className = 'dev-label-vertical';
                label.textContent = (i * 2) + 'px';
                label.style.left = i + 'px';
                
                line.appendChild(label);
                devLinesVertical.appendChild(line);
            }
        }

        // 开发者模式状态
        let devModeEnabled = true;

        // 检查图片是否存在
        function checkImageExists(imagePath) {
            return new Promise((resolve) => {
                try {
                    const img = new Image();
                    img.onload = () => resolve(true);
                    img.onerror = () => resolve(false);
                    img.src = imagePath;
                } catch (error) {
                    resolve(false);
                }
            });
        }



        // 切换开发者模式
        function toggleDevMode() {
            devModeEnabled = !devModeEnabled;
            const devGrid = document.getElementById('devGrid');
            const mousePosition = document.getElementById('mousePosition');
            
            if (devModeEnabled) {
                devGrid.style.display = 'block';
                mousePosition.style.display = 'block';
                generateDevGrid();
            } else {
                devGrid.style.display = 'none';
                mousePosition.style.display = 'none';
            }
        }

        // 页面加载时生成标线
        window.addEventListener('load', generateDevGrid);
        
        // 窗口大小改变时重新生成标线
        window.addEventListener('resize', generateDevGrid);

        // 鼠标位置跟踪
        function updateMousePosition(e) {
            const mousePos = document.getElementById('mousePosition');
            mousePos.textContent = `Mouse: ${e.clientX}, ${e.clientY}`;
        }

        // 添加鼠标移动监听器
        document.addEventListener('mousemove', updateMousePosition);

        // 添加键盘监听器 - z键切换开发者模式
        document.addEventListener('keydown', function(e) {
            if (e.key === 'z' || e.key === 'Z') {
                toggleDevMode();
            }
        });

        // 滚动到指定位置的函数
        function scrollToSection(scenePosition) {
            // 计算缩放因子
            const s = (window.innerWidth / 1536);
            
            // 将场景位置转换为浏览器滚动位置
            // 由于页面有缩放，需要乘以缩放因子
            const scrollPosition = scenePosition * s;
            
            window.scrollTo({
                top: scrollPosition,
                behavior: 'smooth'
            });
        }

        // 轮播功能
        let currentPhase = 0;
        const totalCards = 9;
        const cardsPerView = 3;
        
        // 展示位置定义
        const displayPositions = [
            -482,  // 位置0（屏幕外左侧）-507+25
            118,   // 位置1 93+25
            568,   // 位置2 543+25
            1018,  // 位置3 993+25
            1618   // 位置4（屏幕外右侧）1593+25
        ];

        function moveCarousel(direction) {
            console.log(`moveCarousel: direction=${direction}, currentPhase=${currentPhase}`);
            
            // 正确的逻辑：direction=1向右移动（增加阶段），direction=-1向左移动（减少阶段）
            const newPhase = currentPhase + direction; // 修正：应该是加法
            
            console.log(`newPhase=${newPhase}, bounds=[0, ${totalCards - cardsPerView}]`);
            
            // 检查边界
            if (newPhase < 0 || newPhase > totalCards - cardsPerView) {
                console.log('Boundary check failed, returning');
                return;
            }
            
            currentPhase = newPhase;
            console.log(`Phase updated to: ${currentPhase}`);
            updateCarousel();
            updateNavigationButtons();
            updateDots();
        }

        function jumpToCard(index) {
            currentPhase = index;
            updateCarousel();
            updateNavigationButtons();
            updateDots();
        }

        function updateCarousel() {
            console.log(`updateCarousel called with currentPhase: ${currentPhase}`);
            
            // 独立调节每张卡片的位置
            const cards = document.querySelectorAll('.portfolio-card');
            
            cards.forEach((card, cardIndex) => {
                // 计算卡片应该在哪条展示位
                // 调整逻辑：Card1应该在位置1，所以需要+1
                let displayPosition = cardIndex - currentPhase + 1;
                
                // 边界处理：大于4的设为4，小于0的设为0
                if (displayPosition > 4) displayPosition = 4;
                if (displayPosition < 0) displayPosition = 0;
                
                // 获取对应的位置坐标
                const leftPosition = displayPositions[displayPosition];
                
                // 设置卡片位置
                card.style.left = leftPosition + 'px';
                
                console.log(`Card${cardIndex + 1}: displayPosition=${displayPosition}, left=${leftPosition}px`);
            });
            
            console.log('updateCarousel completed');
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('carouselPrev');
            const nextBtn = document.getElementById('carouselNext');
            
            // 检查按钮是否存在
            if (!prevBtn || !nextBtn) {
                console.log('Buttons not found:', { prevBtn, nextBtn });
                return;
            }
            
            // 更新左按钮状态（向左移动，显示前面的卡片）
            if (currentPhase <= 0) {
                prevBtn.style.opacity = '0.3';
                prevBtn.style.cursor = 'not-allowed';
                prevBtn.disabled = true;
            } else {
                prevBtn.style.opacity = '1';
                prevBtn.style.cursor = 'pointer';
                prevBtn.disabled = false;
            }
            
            // 更新右按钮状态（向右移动，显示后面的卡片）
            if (currentPhase >= totalCards - cardsPerView) {
                nextBtn.style.opacity = '0.3';
                nextBtn.style.cursor = 'not-allowed';
                nextBtn.disabled = true;
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.cursor = 'pointer';
                nextBtn.disabled = false;
            }
        }

        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                if (index >= currentPhase && index < currentPhase + cardsPerView) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // 测试函数：在屏幕中心闪烁红点
        function showRedDot() {
            // 创建红点元素
            const redDot = document.createElement('div');
            redDot.style.position = 'fixed';
            redDot.style.top = '50%';
            redDot.style.left = '50%';
            redDot.style.transform = 'translate(-50%, -50%)';
            redDot.style.width = '20px';
            redDot.style.height = '20px';
            redDot.style.backgroundColor = 'red';
            redDot.style.borderRadius = '50%';
            redDot.style.zIndex = '9999';
            redDot.style.pointerEvents = 'none';
            
            // 添加到页面
            document.body.appendChild(redDot);
            
            // 500ms后移除
            setTimeout(() => {
                if (redDot.parentNode) {
                    redDot.parentNode.removeChild(redDot);
                }
            }, 500);
        }

        // 跳转到详情页
        function goToDetail(title, id) {
            const url = `detail.html?title=${encodeURIComponent(title)}&id=${id}`;
            window.location.href = url;
        }

        // 处理从detail.html跳转过来的滚动位置
        function handleScrollFromDetail() {
            const hash = window.location.hash;
            if (hash && hash.startsWith('#scroll=')) {
                const scrollPosition = parseInt(hash.replace('#scroll=', ''));
                if (!isNaN(scrollPosition)) {
                    // 延迟执行滚动，确保页面完全加载
                    setTimeout(() => {
                        window.scrollTo({
                            top: scrollPosition,
                            behavior: 'smooth'
                        });
                    }, 100);
                }
            }
        }

        // 初始化轮播
        function initCarousel() {
            // 设置初始卡片位置
            updateCarousel();
            
            // 添加按键事件监听器
            const prevBtn = document.getElementById('carouselPrev');
            const nextBtn = document.getElementById('carouselNext');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (!prevBtn.disabled) moveCarousel(-1);
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (!nextBtn.disabled) moveCarousel(1);
                });
            }
            
            updateNavigationButtons();
            updateDots();
        }
    </script>
    </div>
</body>
</html>
